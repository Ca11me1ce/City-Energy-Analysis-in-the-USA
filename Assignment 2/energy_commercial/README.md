# Energy - Commercial Part Analysis

This part analyzes the commercial part of energy data.<br>
Contributer: Jiexin Kong, jk2145

## data_process

This folder is about data pre-processing. It combines two datasets in “cleaned_commercial_building.csv” in original “building and industrial” section and the dataset “common_attrs_commercial.csv” in original “electricity and natural gas” section. It drops some unrelated columns and duplicated rows, combines the rows based on same city, and generates two new columns named elec_score and gas_score. And it generate the final dataset named “energy_commercial.csv”.

### dataset attributes

The commercial part has eleven attributes: city, state_abbr, elec_score, gas_score, num_establishments, elec_1kdollars, elec_mwh, gas_1kdollars, gas_mcf, elec_lb_ghg, gas_lb_ghg:

#### city & state
The combination of city and state_abbr is the key of one record.
#### elec_score
elec_score is used to show the weight of the electricity use in every industry of one city which related to the total electricity use in every industry in the United States.
#### gas_score
gas_score is used to show the weight of the gas use in every industry of one city which related to the total gas use in every industry in the United States.
#### num_establishments
num_establishments represents the number of commercial buildings in one city.
#### elec_1kdollars
elec_1kdollars represents the electricity expenditure of one city.
#### elec_mwh
elec_mwh represents the electricity usage.
#### gas_1kdollars
gas_1kdollars represents the gas expenditure of one city.
#### gas_mcf
gas_mcf represents the gas usage.
#### elec_lb_ghg
elec_lb_ghg represents how much greenhouse gas is produced per megawatt hour electricity.
#### gas_lb_ghg
gas_lb_ghg represents how much greenhouse gas is produced per thousand cubic feet gas.

### File decription
#### commercial_data_preprocess.py
This file is a python file which used to preprocess the dataset.
#### cleaned_commercial_building.csv
This dataset comes from original “building and industrial” section and is needed to be processed.
#### common_attrs_commercial.csv
This dataset generates from original “electricity and natural gas” section and is needed to be precessed.
#### business.csv
This dataset is a middle dataset which is used to store the weight of every industry.
#### cleaned_attribute.csv
This dataset is a middle dataset which is used to store the combined electricuty and gas weight of each city.
#### energy_commercial.csv
THis dataset is the final dataset which merges cleaned_commercial_building.csv and common_attrs_commercial.csv and be used in data analysis folder.


## data_analysis
This folder is used to store the files that analysis data, which includes basic statistical analysis and data cleaning insight part, histograms and correlations part, cluster analysis part, association rules / frequent itemset mining analysis part, and hypothesis testing & classification part

### energy.py
This file is a python file which used to analysis the dataset
#### energy_commercial.csv
THis dataset is the original dataset which is generated in data_process folder.
### statistic.csv
This dataset is used to store the basic statistic results and is used for mean, median, and standard deviation part
### statisitc_original.csv
This dataset is used to store the detailed original statistic results and is used for outlier dectection part
### statisitc_revise.csv
This dataset is used to store the detailed revised statistic results and is used for outlier dectection part
### cleaned_energy_commercial.csv
This dataset is dataset which is replaced maximum value with median and is generated by outlier dectection part
### lof_score.csv
This dataset is added the lof score for each city and is generated by local outlier factor part
### lof_energy_commercial.csv
This dataset is droped the outliers which identify by LOF and is generated by local outlier factor part
### labeled_energy_commercial.csv
This dataset is added electricity usage class and gas usage class and is generated by bin part
### pca2D_kmeans.png
This picture shows the kmeans clustering result and is generated by cluster analysis part
### pca2D_hierachical.png
This picture shows the hierachical clustering result and is generated by cluster analysis part
### pca2D_pca2D_dbscan.png
This picture shows the dbscan clustering result and is generated by cluster analysis part


